INCLUDE(FindPackageHandleStandardArgs)
# Look for the header file
if(NOT QFMAIN_INCLUDE_DIR)
	FIND_PATH(	QFMAIN_INCLUDE_DIR 
		NAMES qf_config.h
		PATHS @QF_SOURCE_DIRECTORY@/include/qfmain
	)
	message(${QFMAIN_INCLUDE_DIR})
endif()
MARK_AS_ADVANCED(QFMAIN_INCLUDE_DIR)


set(QFMAIN_LIBRARY 
	optimized ${CMAKE_CURRENT_LIST_DIR}/lib/Release/qfmain.lib debug ${CMAKE_CURRENT_LIST_DIR}/lib/Debug/qfmain.lib  
	CACHE INTERNAL "qfmain library" )
MARK_AS_ADVANCED(QFMAIN_LIBRARY)

FIND_PACKAGE_HANDLE_STANDARD_ARGS(QFMAIN REQUIRED_VARS QFMAIN_LIBRARY QFMAIN_INCLUDE_DIR)

IF(QFMAIN_FOUND)
	message("qfmain found!")
	SET(QFMAIN_LIBRARIES ${QFMAIN_LIBRARY})
	SET(QFMAIN_INCLUDE_DIRS ${QFMAIN_INCLUDE_DIR})
	include_directories(${QFMAIN_INCLUDE_DIR})
	link_directories(${QFMAIN_LIBDIR})
ELSE(QFMAIN_FOUND)
	message("qfmain notfound!")
	SET(QFMAIN_LIBRARIES)
	SET(QFMAIN_LIBRARY)
	SET(QFMAIN_INCLUDE_DIR)
	SET(QFMAIN_INCLUDE_DIRS)
ENDIF(QFMAIN_FOUND)